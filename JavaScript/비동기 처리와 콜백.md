## 콜백

콜백 함수는 함수의 인자로 전달되는 함수를 말한다. 

```js
setTimeout(function() {
    console.log(1);
},1000);
```

위 코드는 우리가 자주 쓰는 콜백 함수다. 위에서 보면 알 수 있듯이 함수의 인자로 나중에 사용할 함수를 전달받아서 사용한다. 콜백 함수는 다른 함수와 다른 것이 없다. 콜백 함수는 다른 함수와 마찬가지로 똑같은 자바스크립트 함수이다. 일반적으로 콜백은 익명함수로 사용한다.

보통 콜백 함수를 사용하는 이유는 비동기적으로 코드를 작성해야 하는 상황이기 때문이다. setTimeout 함수도 비동기 함수의 예시이다. 비동기 함수의 특징을 잘 나타내는 코드를 보자.

```js
console.log('Before setTimeout()!');
function a() {
    console.log('callBack is done!');
}
setTimeout(a, 1000);
console.log('After setTimeout()!');
```

위 코드를 실행해보면 예상과 다른 결과가 나올 것이다. 우리는 일반적으로 순차적인 실행을 하는 코드에 익숙하다. 하지만 위 코드를 실행해보면 순차적으로 실행될 것 이라는 예상과 다르게 아래와 같이 출력된다.

![callback 함수 결과](./pictures/callback.png)

이렇게 순차적이지 않다는 것이 바로 비동기적 실행의 특징이다. 비동기적 실행의 장점은 한 구문을 실행하는 데 모든 자원을 사용하지 않는다는 것이다. 하고 있는 작업보다 먼저 처리할 수 있는 작업이 있다면 그 작업을 먼저 처리하는 방식은 비동기적 실행의 가장 좋은 점이다.

자바스크립트는 싱글 스레드를 사용하기 때문에, 60초 동안 대기하라는 코드를 동기적으로 실행하게 되면, 다른 코드들까지 저 동작을 위해 기다리게 되어 자원의 낭비가 발생하게 된다. 이런 현상은 UX적으로 매우 좋지 않은 상황이라고 할 수 있다. 하지만 비동기적 실행을 하게 된다면 이런 현상을 해결할 수 있다. 아래에 동기적 실행의 나쁜 예시를 보면 비동기적 실행의 필요성을 알 수 있다.

```js
console.log('Before Loading!');
function loading() {
    var b = 0;
    for(var a=0 ; a<5000000000 ; a++) {
        b++;
    }
    console.log('loading is done');
}
loading();
console.log('After Loading!');
```

보통 콜백 함수에 넘기는 함수는 이름이 없는 익명 함수를 사용한다.