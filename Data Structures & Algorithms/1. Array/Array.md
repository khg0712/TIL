# 배열

## 자바스크립트에서의 배열

배열은 정수 인덱스를 사용해서 각각의 요소에 접근할 수 있게 순차적으로 요소를 저장한 집합체이다. 자바스크립트에서 배열은 객체의 일종이다. 정수를 인덱스로 사용하면 자바스크립트 객체 요구사항에 따라서 내부적으로 정수를 문자열로 변환한다.

배열은 자바스크립트에서 공식적으로 제공하는 객체이기 때문에 미리 정의된 프로퍼티와 함수를 사용할 수 있다.

## 배열 사용하기

자바스크립트의 배열은 정말 유연하다. 배열을 만들고, 요소에 접근하는 등 다양한 방식으로 배열을 다룰 수 있다.

### 배열 만들기

배열을 만드는 가장 간단한 방법은 배열 리터럴([])을 사용해서 만드는 방법이다.

```
let numbers = [];
```

배열 리터럴을 통해서 배열을 만들면 길이가 0인 배열이 만들어진다. 배열의 length 프로퍼티를 통해서 길이를 확인할 수 있다.

또 다른 언어들과 다르게 배열의 요소들은 각각 다른 타입이어도 된다.

```
let array = [1,2,"A",undefined, null,true];
```

또 Array.isArray() 함수를 이용해서 특정 객체가 배열인지 여부를 확인할 수 있다.

### 배열 요소 접근하고 값 고치기

할당 문에 []를 사용해서 배열요소에 값을 할당할 수 있다. 

```
let numbers = [1,2,3,4];
console.log(numbers[1]);//2 출력
```

### 문자열로 배열 만들기

문자열에 split() 함수를 호출하면 배열이 생성된다. split() 함수는 문자열을 특정 구분자로 분리한 다음 분리된 문자열을 포함하는 배열을 만든다.

```
let string = "A B C D E F G";
let alphabets = string.split(" ");
for(let i=0; i<alphabets.length; i++) {
    console.log(alphabets[i]);
}
```

### 얕은 복사와 깊은 복사

배열을 다른 배열에 할당할 수도 있다.

```
let array = [12,34,5,6];
let newArr = array;
```

배열을 다른 배열에 할당하는 행위는 다른 배열에 배열의 레퍼런스를 할당하는 것이다. 따라서 할당된 배열에서 배열을 조작하면 원래 배열의 내용도 변하게 된다. 이런 동작을 **얕은 복사**라고 말한다. 반대로 단순히 원래 배열의 값을 복사한 완전히 새로운 배열을 반환하는 동작인 **깊은 복사**도 있다.

고전적으로 깊은 복사를 하는 방식은 for문으로 배열의 요소 하나 하나를 순회하여 복사하는 것이다.

```
let arr = [2,5,6,7,3,2];
let newArr=[];
for(let i=0; i<arr.length; i++) {
    newArr[i]=arr[i];
}
```

es6의 확산 연산자 ( `...` )를 사용하면 더 쉽게 깊은 복사를 할 수 있다.

```
let arr = [2,5,6,7,3,2];
let newArr = [...arr];
```

복사를 했을 때 깊은 복사인지 얕은 복사인지 여부를 확인할 때에는 ===연산자를 통해서 레퍼런스를 비교하면 된다. 위 상황에서는 다음과 같은 결과가 나온다.

```
let arr = [2,5,6,7,3,2];
let newArr = [...arr];
console.log(arr===newArr);//false 출력
```

## 접근자 함수

자바스크립트에서는 배열 요소에 접근할 수 있는 다양한 함수를 제공한다. 이들을 접근자 함수(accessor function)이라고 부르며 특정값을 포함하는 결과를 반환한다.

### 특정 요소 검색하기

indexOf() 함수는 인자로 제공된 값이 배열 어디에 존재하는지 알려준다. 만약 배열 내에 존재한다면 인덱스를 제공하고 그렇지 않다면 -1을 반환한다. indexOf() 함수는 배열의 앞에서부터 첫번째로 발견된 인자의 인덱스를 반환한다. lastIndexOf() 함수는 그 반대로 동작한다.

```
let alphabets = ['a','b','c','d','e','f','g'];
let aIndex = alphabets.indexOf('a');//0
let zIndex = alphabets.indexOf('z');//-1
```

### 배열을 문자열로 표현하기

배열을 문자열로 변환할 때에는 join() 함수와 toString() 함수를 사용할 수 있다. join() 함수는 인자로 넣은 값들을 요소의 사이 사이에 넣은 문자열을 반환하고 인자가 없을 때에는 쉼표(,)가 인자의 사이에 들어간다. toString() 함수는 인자를 필요로하지 않고, 요소의 사이 사이에 쉽표를 넣은 문자열을 반환한다.

```
let alphabets = ['a','b','c','d','e','f','g'];
let myAlphas = alphabets.join(' # ');
let myABC = alphabets.toString();
```

### 기존의 배열을 이용해서 새 배열 만들기

concat() 함수, splice() 함수는 기존 배열을 이용해서 새 배열을 만드는 함수다. concat() 함수는 두개 이상의 배열을 합쳐서 새 배열을 만들고, splice() 함수는 기존 배열의 서브셋으로 새 배열을 만든다.